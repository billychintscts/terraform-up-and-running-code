{"format_version":"0.2","terraform_version":"1.0.2","variables":{"server_port":{"value":8080}},"planned_values":{"outputs":{"alb_dns_name":{"sensitive":false}},"root_module":{"resources":[{"address":"aws_autoscaling_group.example","mode":"managed","type":"aws_autoscaling_group","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"capacity_rebalance":null,"enabled_metrics":null,"force_delete":false,"force_delete_warm_pool":false,"health_check_grace_period":300,"health_check_type":"ELB","initial_lifecycle_hook":[],"instance_refresh":[],"launch_template":[],"load_balancers":null,"max_instance_lifetime":null,"max_size":10,"metrics_granularity":"1Minute","min_elb_capacity":null,"min_size":2,"mixed_instances_policy":[],"placement_group":null,"protect_from_scale_in":false,"suspended_processes":null,"tag":[{"key":"Name","propagate_at_launch":true,"value":"terraform-asg-example"}],"tags":null,"termination_policies":null,"timeouts":null,"vpc_zone_identifier":["subnet-2417aa15","subnet-3f35421e","subnet-601e3d6e","subnet-7f5c3519","subnet-7fd5ec32","subnet-9fb1dbc0"],"wait_for_capacity_timeout":"10m","wait_for_elb_capacity":null,"warm_pool":[]},"sensitive_values":{"availability_zones":[],"initial_lifecycle_hook":[],"instance_refresh":[],"launch_template":[],"mixed_instances_policy":[],"tag":[{}],"target_group_arns":[],"vpc_zone_identifier":[false,false,false,false,false,false],"warm_pool":[]}},{"address":"aws_launch_configuration.example","mode":"managed","type":"aws_launch_configuration","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"associate_public_ip_address":false,"enable_monitoring":true,"ephemeral_block_device":[],"iam_instance_profile":null,"image_id":"ami-09e67e426f25ce0d7","instance_type":"t2.micro","placement_tenancy":null,"spot_price":null,"user_data":"64c8407ce0f872c898e0385064f3d11250c342d6","user_data_base64":null,"vpc_classic_link_id":null,"vpc_classic_link_security_groups":null},"sensitive_values":{"ebs_block_device":[],"ephemeral_block_device":[],"metadata_options":[],"root_block_device":[],"security_groups":[]}},{"address":"aws_lb.example","mode":"managed","type":"aws_lb","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"access_logs":[],"customer_owned_ipv4_pool":null,"drop_invalid_header_fields":false,"enable_cross_zone_load_balancing":null,"enable_deletion_protection":false,"enable_http2":true,"idle_timeout":60,"load_balancer_type":"application","name":"terraform-asg-example","name_prefix":null,"subnets":["subnet-2417aa15","subnet-3f35421e","subnet-601e3d6e","subnet-7f5c3519","subnet-7fd5ec32","subnet-9fb1dbc0"],"tags":null,"timeouts":null},"sensitive_values":{"access_logs":[],"security_groups":[],"subnet_mapping":[],"subnets":[false,false,false,false,false,false],"tags_all":{}}},{"address":"aws_lb_listener.http","mode":"managed","type":"aws_lb_listener","name":"http","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"alpn_policy":null,"certificate_arn":null,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[{"content_type":"text/plain","message_body":"404: page not found","status_code":"404"}],"forward":[],"redirect":[],"target_group_arn":null,"type":"fixed-response"}],"port":80,"protocol":"HTTP","tags":null,"timeouts":null},"sensitive_values":{"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[{}],"forward":[],"redirect":[]}],"tags_all":{}}},{"address":"aws_lb_listener_rule.asg","mode":"managed","type":"aws_lb_listener_rule","name":"asg","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[],"type":"forward"}],"condition":[{"host_header":[],"http_header":[],"http_request_method":[],"path_pattern":[{"values":["*"]}],"query_string":[],"source_ip":[]}],"priority":100,"tags":null},"sensitive_values":{"action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[]}],"condition":[{"host_header":[],"http_header":[],"http_request_method":[],"path_pattern":[{"values":[false]}],"query_string":[],"source_ip":[]}],"tags_all":{}}},{"address":"aws_lb_target_group.asg","mode":"managed","type":"aws_lb_target_group","name":"asg","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"deregistration_delay":300,"health_check":[{"enabled":true,"healthy_threshold":2,"interval":15,"matcher":"200","path":"/","port":"traffic-port","protocol":"HTTP","timeout":3,"unhealthy_threshold":2}],"lambda_multi_value_headers_enabled":false,"name":"terraform-asg-example","name_prefix":null,"port":8080,"protocol":"HTTP","proxy_protocol_v2":false,"slow_start":0,"tags":null,"target_type":"instance","vpc_id":"vpc-93f075ee"},"sensitive_values":{"health_check":[{}],"stickiness":[],"tags_all":{}}},{"address":"aws_security_group.alb","mode":"managed","type":"aws_security_group","name":"alb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"description":"Managed by Terraform","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":80,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":80}],"name":"terraform-example-alb","revoke_rules_on_delete":false,"tags":null,"timeouts":null},"sensitive_values":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags_all":{}}}]}},"resource_changes":[{"address":"aws_autoscaling_group.example","mode":"managed","type":"aws_autoscaling_group","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"capacity_rebalance":null,"enabled_metrics":null,"force_delete":false,"force_delete_warm_pool":false,"health_check_grace_period":300,"health_check_type":"ELB","initial_lifecycle_hook":[],"instance_refresh":[],"launch_template":[],"load_balancers":null,"max_instance_lifetime":null,"max_size":10,"metrics_granularity":"1Minute","min_elb_capacity":null,"min_size":2,"mixed_instances_policy":[],"placement_group":null,"protect_from_scale_in":false,"suspended_processes":null,"tag":[{"key":"Name","propagate_at_launch":true,"value":"terraform-asg-example"}],"tags":null,"termination_policies":null,"timeouts":null,"vpc_zone_identifier":["subnet-2417aa15","subnet-3f35421e","subnet-601e3d6e","subnet-7f5c3519","subnet-7fd5ec32","subnet-9fb1dbc0"],"wait_for_capacity_timeout":"10m","wait_for_elb_capacity":null,"warm_pool":[]},"after_unknown":{"arn":true,"availability_zones":true,"default_cooldown":true,"desired_capacity":true,"id":true,"initial_lifecycle_hook":[],"instance_refresh":[],"launch_configuration":true,"launch_template":[],"mixed_instances_policy":[],"name":true,"name_prefix":true,"service_linked_role_arn":true,"tag":[{}],"target_group_arns":true,"vpc_zone_identifier":[false,false,false,false,false,false],"warm_pool":[]},"before_sensitive":false,"after_sensitive":{"availability_zones":[],"initial_lifecycle_hook":[],"instance_refresh":[],"launch_template":[],"mixed_instances_policy":[],"tag":[{}],"target_group_arns":[],"vpc_zone_identifier":[false,false,false,false,false,false],"warm_pool":[]}}},{"address":"aws_launch_configuration.example","mode":"managed","type":"aws_launch_configuration","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"associate_public_ip_address":false,"enable_monitoring":true,"ephemeral_block_device":[],"iam_instance_profile":null,"image_id":"ami-09e67e426f25ce0d7","instance_type":"t2.micro","placement_tenancy":null,"spot_price":null,"user_data":"64c8407ce0f872c898e0385064f3d11250c342d6","user_data_base64":null,"vpc_classic_link_id":null,"vpc_classic_link_security_groups":null},"after_unknown":{"arn":true,"ebs_block_device":true,"ebs_optimized":true,"ephemeral_block_device":[],"id":true,"key_name":true,"metadata_options":true,"name":true,"name_prefix":true,"root_block_device":true,"security_groups":true},"before_sensitive":false,"after_sensitive":{"ebs_block_device":[],"ephemeral_block_device":[],"metadata_options":[],"root_block_device":[],"security_groups":[]}}},{"address":"aws_lb.example","mode":"managed","type":"aws_lb","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"access_logs":[],"customer_owned_ipv4_pool":null,"drop_invalid_header_fields":false,"enable_cross_zone_load_balancing":null,"enable_deletion_protection":false,"enable_http2":true,"idle_timeout":60,"load_balancer_type":"application","name":"terraform-asg-example","name_prefix":null,"subnets":["subnet-2417aa15","subnet-3f35421e","subnet-601e3d6e","subnet-7f5c3519","subnet-7fd5ec32","subnet-9fb1dbc0"],"tags":null,"timeouts":null},"after_unknown":{"access_logs":[],"arn":true,"arn_suffix":true,"dns_name":true,"id":true,"internal":true,"ip_address_type":true,"security_groups":true,"subnet_mapping":true,"subnets":[false,false,false,false,false,false],"tags_all":true,"vpc_id":true,"zone_id":true},"before_sensitive":false,"after_sensitive":{"access_logs":[],"security_groups":[],"subnet_mapping":[],"subnets":[false,false,false,false,false,false],"tags_all":{}}}},{"address":"aws_lb_listener.http","mode":"managed","type":"aws_lb_listener","name":"http","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"alpn_policy":null,"certificate_arn":null,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[{"content_type":"text/plain","message_body":"404: page not found","status_code":"404"}],"forward":[],"redirect":[],"target_group_arn":null,"type":"fixed-response"}],"port":80,"protocol":"HTTP","tags":null,"timeouts":null},"after_unknown":{"arn":true,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[{}],"forward":[],"order":true,"redirect":[]}],"id":true,"load_balancer_arn":true,"ssl_policy":true,"tags_all":true},"before_sensitive":false,"after_sensitive":{"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[{}],"forward":[],"redirect":[]}],"tags_all":{}}}},{"address":"aws_lb_listener_rule.asg","mode":"managed","type":"aws_lb_listener_rule","name":"asg","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[],"type":"forward"}],"condition":[{"host_header":[],"http_header":[],"http_request_method":[],"path_pattern":[{"values":["*"]}],"query_string":[],"source_ip":[]}],"priority":100,"tags":null},"after_unknown":{"action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"order":true,"redirect":[],"target_group_arn":true}],"arn":true,"condition":[{"host_header":[],"http_header":[],"http_request_method":[],"path_pattern":[{"values":[false]}],"query_string":[],"source_ip":[]}],"id":true,"listener_arn":true,"tags_all":true},"before_sensitive":false,"after_sensitive":{"action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[]}],"condition":[{"host_header":[],"http_header":[],"http_request_method":[],"path_pattern":[{"values":[false]}],"query_string":[],"source_ip":[]}],"tags_all":{}}}},{"address":"aws_lb_target_group.asg","mode":"managed","type":"aws_lb_target_group","name":"asg","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"deregistration_delay":300,"health_check":[{"enabled":true,"healthy_threshold":2,"interval":15,"matcher":"200","path":"/","port":"traffic-port","protocol":"HTTP","timeout":3,"unhealthy_threshold":2}],"lambda_multi_value_headers_enabled":false,"name":"terraform-asg-example","name_prefix":null,"port":8080,"protocol":"HTTP","proxy_protocol_v2":false,"slow_start":0,"tags":null,"target_type":"instance","vpc_id":"vpc-93f075ee"},"after_unknown":{"arn":true,"arn_suffix":true,"health_check":[{}],"id":true,"load_balancing_algorithm_type":true,"preserve_client_ip":true,"protocol_version":true,"stickiness":true,"tags_all":true},"before_sensitive":false,"after_sensitive":{"health_check":[{}],"stickiness":[],"tags_all":{}}}},{"address":"aws_security_group.alb","mode":"managed","type":"aws_security_group","name":"alb","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Managed by Terraform","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":80,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":80}],"name":"terraform-example-alb","revoke_rules_on_delete":false,"tags":null,"timeouts":null},"after_unknown":{"arn":true,"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"id":true,"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"name_prefix":true,"owner_id":true,"tags_all":true,"vpc_id":true},"before_sensitive":false,"after_sensitive":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags_all":{}}}}],"output_changes":{"alb_dns_name":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false}},"prior_state":{"format_version":"0.2","terraform_version":"1.0.2","values":{"root_module":{"resources":[{"address":"data.aws_subnet_ids.default","mode":"data","type":"aws_subnet_ids","name":"default","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"filter":null,"id":"vpc-93f075ee","ids":["subnet-2417aa15","subnet-3f35421e","subnet-601e3d6e","subnet-7f5c3519","subnet-7fd5ec32","subnet-9fb1dbc0"],"tags":null,"vpc_id":"vpc-93f075ee"},"sensitive_values":{"ids":[false,false,false,false,false,false]}},{"address":"data.aws_vpc.default","mode":"data","type":"aws_vpc","name":"default","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ec2:us-east-1:266170445194:vpc/vpc-93f075ee","cidr_block":"172.31.0.0/16","cidr_block_associations":[{"association_id":"vpc-cidr-assoc-f38d1b9c","cidr_block":"172.31.0.0/16","state":"associated"}],"default":true,"dhcp_options_id":"dopt-a87254d2","enable_dns_hostnames":true,"enable_dns_support":true,"filter":null,"id":"vpc-93f075ee","instance_tenancy":"default","ipv6_association_id":null,"ipv6_cidr_block":null,"main_route_table_id":"rtb-c06d6dbe","owner_id":"266170445194","state":"available","tags":{}},"sensitive_values":{"cidr_block_associations":[{}],"tags":{}}}]}}},"configuration":{"provider_config":{"aws":{"name":"aws","version_constraint":"~\u003e 3.0","expressions":{"region":{"constant_value":"us-east-1"}}}},"root_module":{"outputs":{"alb_dns_name":{"expression":{"references":["aws_lb.example.dns_name","aws_lb.example"]},"description":"The domain name of the load balancer"}},"resources":[{"address":"aws_autoscaling_group.example","mode":"managed","type":"aws_autoscaling_group","name":"example","provider_config_key":"aws","expressions":{"health_check_type":{"constant_value":"ELB"},"launch_configuration":{"references":["aws_launch_configuration.example.name","aws_launch_configuration.example"]},"max_size":{"constant_value":10},"min_size":{"constant_value":2},"tag":[{"key":{"constant_value":"Name"},"propagate_at_launch":{"constant_value":true},"value":{"constant_value":"terraform-asg-example"}}],"target_group_arns":{"references":["aws_lb_target_group.asg.arn","aws_lb_target_group.asg"]},"vpc_zone_identifier":{"references":["data.aws_subnet_ids.default.ids","data.aws_subnet_ids.default"]}},"schema_version":0},{"address":"aws_launch_configuration.example","mode":"managed","type":"aws_launch_configuration","name":"example","provider_config_key":"aws","expressions":{"image_id":{"constant_value":"ami-09e67e426f25ce0d7"},"instance_type":{"constant_value":"t2.micro"},"security_groups":{"references":["aws_security_group.alb.id","aws_security_group.alb"]},"user_data":{"constant_value":"#!/bin/bash\necho \"Hello, World\" \u003e index.html\nnohup busybox httpd -f -p var.server_port \u0026\n"}},"schema_version":0},{"address":"aws_lb.example","mode":"managed","type":"aws_lb","name":"example","provider_config_key":"aws","expressions":{"load_balancer_type":{"constant_value":"application"},"name":{"constant_value":"terraform-asg-example"},"security_groups":{"references":["aws_security_group.alb.id","aws_security_group.alb"]},"subnets":{"references":["data.aws_subnet_ids.default.ids","data.aws_subnet_ids.default"]}},"schema_version":0},{"address":"aws_lb_listener.http","mode":"managed","type":"aws_lb_listener","name":"http","provider_config_key":"aws","expressions":{"default_action":[{"fixed_response":[{"content_type":{"constant_value":"text/plain"},"message_body":{"constant_value":"404: page not found"},"status_code":{"constant_value":404}}],"type":{"constant_value":"fixed-response"}}],"load_balancer_arn":{"references":["aws_lb.example.arn","aws_lb.example"]},"port":{"constant_value":80},"protocol":{"constant_value":"HTTP"}},"schema_version":0},{"address":"aws_lb_listener_rule.asg","mode":"managed","type":"aws_lb_listener_rule","name":"asg","provider_config_key":"aws","expressions":{"action":[{"target_group_arn":{"references":["aws_lb_target_group.asg.arn","aws_lb_target_group.asg"]},"type":{"constant_value":"forward"}}],"condition":[{"path_pattern":[{"values":{"constant_value":["*"]}}]}],"listener_arn":{"references":["aws_lb_listener.http.arn","aws_lb_listener.http"]},"priority":{"constant_value":100}},"schema_version":0},{"address":"aws_lb_target_group.asg","mode":"managed","type":"aws_lb_target_group","name":"asg","provider_config_key":"aws","expressions":{"health_check":[{"healthy_threshold":{"constant_value":2},"interval":{"constant_value":15},"matcher":{"constant_value":"200"},"path":{"constant_value":"/"},"protocol":{"constant_value":"HTTP"},"timeout":{"constant_value":3},"unhealthy_threshold":{"constant_value":2}}],"name":{"constant_value":"terraform-asg-example"},"port":{"references":["var.server_port"]},"protocol":{"constant_value":"HTTP"},"vpc_id":{"references":["data.aws_vpc.default.id","data.aws_vpc.default"]}},"schema_version":0},{"address":"aws_security_group.alb","mode":"managed","type":"aws_security_group","name":"alb","provider_config_key":"aws","expressions":{"name":{"constant_value":"terraform-example-alb"}},"schema_version":1},{"address":"data.aws_subnet_ids.default","mode":"data","type":"aws_subnet_ids","name":"default","provider_config_key":"aws","expressions":{"vpc_id":{"references":["data.aws_vpc.default.id","data.aws_vpc.default"]}},"schema_version":0},{"address":"data.aws_vpc.default","mode":"data","type":"aws_vpc","name":"default","provider_config_key":"aws","expressions":{"default":{"constant_value":true}},"schema_version":0}],"variables":{"server_port":{"default":8080,"description":"The port the server will use for HTTP requests"}}}}}
